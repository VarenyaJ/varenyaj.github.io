<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Snake Classic</title>
<style>
 body {
   background: #222;
   color: #fff;
   font-family: Courier, monospace;
   display: flex;
   flex-direction: column;
   align-items: center;
   justify-content: center;
   height: 100vh;
   margin: 0;
 }
 h1 {
   margin-bottom: 5px;
 }
 #gameCanvas {
   border: 2px solid #fff;
   background: #111;
 }
 #score {
   margin-top: 10px;
 }
</style>
</head>
<body>
 <h1>Snake Classic</h1>
 <canvas id="gameCanvas" width="400" height="400"></canvas>
 <div id="score">Score: 0</div>

<script>
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");
const box = 20;
let snake = [{x: 200, y: 200}];
let direction = "RIGHT";
let food = {
 x: Math.floor(Math.random()*20)*box,
 y: Math.floor(Math.random()*20)*box
};
let score = 0;
let gameOver = false;

document.addEventListener("keydown", function(e){
 const key = e.key.toLowerCase();
 if((key === "arrowleft" || key === "a") && direction !== "RIGHT") direction = "LEFT";
 else if((key === "arrowup" || key === "w") && direction !== "DOWN") direction = "UP";
 else if((key === "arrowright" || key === "d") && direction !== "LEFT") direction = "RIGHT";
 else if((key === "arrowdown" || key === "s") && direction !== "UP") direction = "DOWN";
 else if(key === "r") reset();
});

function drawBox(x, y, color){
 ctx.fillStyle = color;
 ctx.fillRect(x, y, box, box);
}

function collision(head, arr){
 for(let i=0;i<arr.length;i++){
   if(head.x === arr[i].x && head.y === arr[i].y) return true;
 }
 return false;
}

function reset(){
 snake = [{x:200, y:200}];
 direction = "RIGHT";
 food = {
   x: Math.floor(Math.random()*20)*box,
   y: Math.floor(Math.random()*20)*box
 };
 score = 0;
 gameOver = false;
 loop();
}

function draw(){
 if(gameOver) return;
 ctx.clearRect(0,0,canvas.width,canvas.height);

 // draw food
 drawBox(food.x, food.y, "red");

 // move snake
 let headX = snake[0].x;
 let headY = snake[0].y;
 if(direction === "LEFT") headX -= box;
 if(direction === "UP") headY -= box;
 if(direction === "RIGHT") headX += box;
 if(direction === "DOWN") headY += box;

 // wrap around edges
 if(headX < 0) headX = canvas.width - box;
 if(headX >= canvas.width) headX = 0;
 if(headY < 0) headY = canvas.height - box;
 if(headY >= canvas.height) headY = 0;

 // check collision
 let newHead = {x: headX, y: headY};
 if(collision(newHead, snake)){
   gameOver = true;
   ctx.fillStyle = "white";
   ctx.font = "24px Courier";
   ctx.fillText("GAME OVER - Press R to Restart", 15, canvas.height/2);
   return;
 }

 // eat food
 if(headX === food.x && headY === food.y){
   score++;
   document.getElementById("score").textContent = "Score: " + score;
   food = {
     x: Math.floor(Math.random()*20)*box,
     y: Math.floor(Math.random()*20)*box
   };
 } else {
   snake.pop();
 }

 snake.unshift(newHead);

 // draw snake
 for(let i=0;i<snake.length;i++){
   drawBox(snake[i].x, snake[i].y, i===0 ? "#0f0" : "#3f3");
 }
}

function loop(){
 draw();
 if(!gameOver) setTimeout(loop, 100);
}
loop();
</script>
</body>
</html>